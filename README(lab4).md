ОТЧЁТ по лабораторной работе по программированию на C++
Тема: "ОБЪЕКТНО-ОРИЕНТИРОВАННОЕ ПРОГРАММИРОВАНИЕ. КЛАССЫ И ПЕРЕГРУЗКА ОПЕРАТОРОВ"

Цель работы
Освоение принципов объектно-ориентированного программирования на C++, включая создание классов, конструкторов, методов, перегрузку операторов и работу с дружественными функциями. Разработка класса для работы со временем с полным функционалом согласно варианту задания.

Описание задач и их решения


Задание 1: Реализация класса Time
Описание: Создать класс Time для работы со временем, включающий конструкторы, методы и перегрузку оператора вывода.

Решение:
class Time {
private:
    unsigned char hours;
    unsigned char minutes;
    void normalize() {
        hours = (hours + (minutes / 60)) % 24;
        minutes %= 60;
    }
Алгоритм: Класс содержит приватные поля для часов и минут, а также метод normalize() для корректировки времени при выходе за допустимые границы.


Конструкторы:
public:
    Time() : hours(0), minutes(0) {}
    Time(unsigned char h, unsigned char m) : hours(h), minutes(m) { normalize(); }
    Time(const Time& other) : hours(other.hours), minutes(other.minutes) {}
Алгоритм: Реализовано три конструктора - по умолчанию (00:00), с параметрами (с автоматической нормализацией) и копирования.


Метод addMinutes:
Time addMinutes(unsigned int min) const {
    Time result = *this;
    result.minutes += min;
    result.normalize();
    return result;
}
Алгоритм: Создается копия текущего объекта, к которой добавляются указанные минуты с последующей нормализацией результата.


Перегрузка оператора вывода:
friend std::ostream& operator<<(std::ostream& os, const Time& t) {
    if (t.hours < 10) os << "0";
    os << (int)t.hours << ":";
    if (t.minutes < 10) os << "0";
    os << (int)t.minutes;
    return os;
}
Алгоритм: Форматированный вывод времени в формате HH:MM с добавлением ведущих нулей.

Тесты:
1. Конструкторы:
Часы (0-23): 12
Минуты (0-59): 34
t1: 12:34
t2: 00:00
t3: 12:34


2. Метод addMinutes:
Минуты для добавления: 90
12:34 + 90 мин = 14:04
Задание 2: Перегрузка операторов для класса Time
Унарные операции:


Префиксный и постфиксный инкремент:
Time& operator++() {
    ++minutes;
    normalize();
    return *this;
}

Time operator++(int) {
    Time temp = *this;
    ++(*this);
    return temp;
}
Алгоритм: Увеличение времени на 1 минуту с нормализацией. Префиксная версия возвращает измененный объект, постфиксная - копию до изменения.


Префиксный и постфиксный декремент:
Time& operator--() {
    if (minutes == 0) {
        minutes = 59;
        hours = (hours == 0) ? 23 : hours - 1;
    } else {
        --minutes;
    }
    return *this;
}

Time operator--(int) {
    Time temp = *this;
    --(*this);
    return temp;
}
Алгоритм: Уменьшение времени на 1 минуту с обработкой перехода через 00:00.


Тесты унарных операций:
3. Унарные операции:
Исходное: 02:03
++t: 02:04
t++: 02:04 (после: 02:05)
--t: 02:04
t--: 02:04 (после: 02:03)
Операции приведения типа:


Явное приведение к short:
explicit operator short() const { return hours; }
Алгоритм: Возвращает только значение часов, отбрасывая минуты.


Неявное приведение к bool:
operator bool() const { return hours != 0 || minutes != 0; }
Алгоритм: Возвращает true, если время не равно 00:00.


Тесты приведения типа:
4. Приведение типа:
short(t1): 2
bool(t1): true
bool(00:00): false
Бинарные операции:


Сложение Time + unsigned int:
friend Time operator+(const Time& t, unsigned int min) {
    return t.addMinutes(min);
}
Алгоритм: Использует готовый метод addMinutes для добавления минут ко времени.


Вычитание Time - unsigned int:
friend Time operator-(const Time& t, unsigned int min) {
    int total = t.hours * 60 + t.minutes - min;
    while (total < 0) total += 1440;
    return Time(total / 60, total % 60);
}
Алгоритм: Переводит время в минуты, вычитает указанное количество и обрабатывает отрицательный результат добавлением суток.


Тесты бинарных операций:
5. Бинарные операции:
Минуты для операций: 120
02:03 + 120 = 04:03
02:03 - 120 = 00:03
Вспомогательные функции:


Функция ввода времени:
Time inputTime() {
    int h, m;
    std::cout << "Часы (0-23): ";
    std::cin >> h;
    std::cout << "Минуты (0-59): ";
    std::cin >> m;
    return Time(h, m);
}
Алгоритм: Обеспечивает безопасный ввод времени с клавиатуры с созданием объекта Time.


Заключение
Выводы
В ходе лабораторной работы был успешно реализован класс Time для работы со временем, включающий все требуемые функциональные возможности. Класс демонстрирует принципы объектно-ориентированного программирования: инкапсуляцию (приватные поля и методы), наследование (конструкторы) и полиморфизм (перегрузка операторов).

Результаты

Реализован класс Time с тремя конструкторами
Создан метод addMinutes для добавления минут ко времени
Перегружены унарные операторы ++ и -- (префиксные и постфиксные версии)
Реализованы операции приведения типа (явная к short, неявная к bool)
Перегружены бинарные операторы + и - для работы с минутами
Создан дружественный оператор вывода для форматированного отображения времени
Реализован пользовательский интерфейс для тестирования всех функций класса
Обеспечена обработка граничных случаев и корректная работа с переходом через полночь
Все функции класса протестированы и работают корректно, демонстрируя полное соответствие требованиям задания.
